<!DOCTYPE html>
<html>

<head>
  <title>Page not found</title>
  <script type="text/javascript">
    window.isErrorPage = true;
    window.errorCode = '404';
  </script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="Page not found">
  <meta name="template" content="error">
  <script src="/scripts/scripts.js" type="module" crossorigin="use-credentials"></script>
  <script type="module">
    import { sampleRUM } from '/scripts/lib-franklin.js';

    function getYearsFrom(year) {
      const years = [];
      const currentYear = new Date().getFullYear();
      for (let i = currentYear; i >= year; i--) {
        years.push(i);
      }
      return years;
    }
    function collapseWhenOutofFocus(event) {
      if (!event.target.closest('#newslist-filter-year')) {
        const yearPicker = document.querySelector('#newslist-filter-year');
        const yearDropdown = yearPicker.querySelector('.newslist-filter-year-dropdown');
        const isExpanded = yearDropdown.getAttribute('aria-expanded');
        if (isExpanded) {
          yearDropdown.setAttribute('aria-expanded', 'false');
        }
      }
    }
    function yearPickerEventHandler(event) {
      const yearDropdown = event.target.querySelector('.newslist-filter-year-dropdown');
      if (!yearDropdown) {
        return;
      }
      const isExpanded = yearDropdown.getAttribute('aria-expanded');
      if (isExpanded === 'true') {
        yearDropdown.setAttribute('aria-expanded', 'false');
        window.removeEventListener('click', collapseWhenOutofFocus);
      } else {
        yearDropdown.setAttribute('aria-expanded', 'true');
        window.addEventListener('click', collapseWhenOutofFocus);
      }
    }
    function addEventListenerToFilterForm(block) {
      const filterForm = block.querySelector('#filter-form');
      const filterFormLabel = filterForm.querySelector('label');
      const filterArrow = filterForm.querySelector('.newslist-filter-arrow');
      const filterInput = filterForm.querySelector('#newslist-filter-input');
      const filterFormSubmit = filterForm.querySelector('input[type="submit"]');
      const filterYear = filterForm.querySelector('#newslist-filter-year');
      filterFormLabel.addEventListener('click', () => {
        const isActive = filterArrow.classList.contains('active');
        if (isActive) {
          filterArrow.classList.remove('active');
          filterInput.style.display = 'none';
          filterFormSubmit.style.display = 'none';
          if (filterYear) {
            filterYear.style.display = 'none';
          }
        } else {
          filterArrow.classList.add('active');
          filterInput.style.display = 'inline';
          filterFormSubmit.style.display = 'inline';
          if (filterYear) {
            filterYear.style.display = 'inline-block';
          }
        }
      });
    }
    function addEventListenerToYearPicker(yearPicker) {
      yearPicker.addEventListener('click', yearPickerEventHandler);
      const yearItems = yearPicker.querySelectorAll('.newslist-filter-year-item');
      yearItems.forEach((item) => {
        item.addEventListener('click', () => {
          const year = item.getAttribute('value');
          const yearUrl = `/?year=${year}`;
          window.location.href = yearUrl;
        });
      });
    }
    window.addEventListener('load', () => {
      const filterForm = document.getElementById('filter-form');
      const years = getYearsFrom(parseInt(filterForm.dataset.year, 10));
      const filterYear = createFilterYear(years, 'YEAR', '/');
      filterForm.appendChild(filterYear);
      sampleRUM('404', { source: document.referrer, target: window.location.href });
    });
  </script>
  <link rel="stylesheet" href="/styles/styles.css">
  <style>
    main.error {
    }

    main.error #filter-form {
      display: flex;
      border: 0.5px solid #ccc;
      margin-bottom: 10px;
      padding-top: 10px;
      padding-bottom: 10px;
    }

    main.error #filter-form label {
      font-family: var(--graphik-semibold);
      padding-left: 15px;
      margin-bottom: 5px;
      font-size: 18px;
      font-weight: 700;
      line-height: 50px;
      text-transform: uppercase;
      color: #000;
    }

    main.error .error-number text {
      font-family: var(--fixed-font-family);
    }
  </style>
  <link rel="stylesheet" href="/blocks/newslist/newslist.css">
  <link rel="stylesheet" href="/styles/lazy-styles.css">
</head>

<body>
  <header></header>
  <main class="error">
    <div class="section content">
      <form action="/" method="get" id="filter-form" data-year="2005">
        <label for="newslist-filter-input">Filter News
          <span class="newslist-filter-arrow"></span>
        </label>
        <input type="text" id="newslist-filter-input" title="Date Range" name="date" value="DATE RANGE" size="40" maxlength="60" disabled>
        <input type="submit" value="" disabled>
      </form>
      <p class="button-container">
        <a href="/" class="button secondary error-button-home">Return to Accenture Newsroom</a>
      </p>
    </div>
  </main>
  <footer></footer>
</body>

</html>
